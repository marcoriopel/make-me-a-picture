<div class="container">
  <mat-card>
    <mat-card-content>
      <form [formGroup]="userRegistrationForm" novalidate>
        <h2>Register</h2>

        <mat-form-field class="full-width-input">
          <input matInput placeholder="Prénom" formControlName="firstname" required>
          <mat-error>
            {{errors.name}}
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width-input">
          <input matInput placeholder="Nom" formControlName="name" required>
          <mat-error>
            {{errors.name}}
          </mat-error>
        </mat-form-field>

        <mat-radio-group
          class="full-width-input" (change)="logValue()" formControlName="avatar">
          <mat-radio-button [value]="this.getAvatarColors(this.avatar1)">
            <app-avatar #avatar1></app-avatar>
          </mat-radio-button>
          <mat-radio-button [value]="this.getAvatarColors(this.avatar2)">
            <app-avatar #avatar2></app-avatar>
          </mat-radio-button>
          <mat-radio-button [value]="this.getAvatarColors(this.avatar3)">
            <app-avatar #avatar3></app-avatar>
          </mat-radio-button>
          <mat-radio-button [value]="this.getAvatarColors(this.avatar4)">
            <app-avatar #avatar4></app-avatar>
          </mat-radio-button>
          <mat-radio-button [value]="this.getAvatarColors(this.avatar5)">
            <app-avatar #avatar5></app-avatar>
          </mat-radio-button>
          <mat-radio-button [value]="this.getAvatarColors(this.avatar6)">
            <app-avatar #avatar6></app-avatar>
          </mat-radio-button>
        </mat-radio-group>
        
        <mat-form-field class="full-width-input">
          <input matInput placeholder="Nom d'utilisateur" formControlName="username" name="username" required>
          <mat-error>
            {{errors.name}}
          </mat-error>
        </mat-form-field>
        
        <div formGroupName="passwordGroup">
          <mat-form-field>
              <input matInput placeholder="Mot de passe" type="password" formControlName="password">
              <mat-error>
                  {{errors.password}}
              </mat-error>
          </mat-form-field>
      
          <mat-form-field>
              <input matInput placeholder="Confirmation mot de passe" type="password" formControlName="confirmPassword" [errorStateMatcher]="confirmValidParentMatcher">
              <mat-error>
                  {{errors.confirmPassword}}
              </mat-error>
          </mat-form-field>
      </div>
      <p> Vous avez déjà un compte? <a routerLink="/login"> Connexion </a> </p>
      <button mat-raised-button [disabled]="userRegistrationForm.invalid" (click)="register()">Register</button>
        
      </form>
    </mat-card-content>
  </mat-card>  
</div>
